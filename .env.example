# ========================================
# WB REDISTRIBUTION BOT - КОНФИГУРАЦИЯ
# ========================================
# Скопируйте этот файл как .env и заполните значения

# ========================================
# TELEGRAM BOT
# ========================================

# Токен Telegram бота (от @BotFather)
BOT_TOKEN=your_bot_token_here

# Telegram ID администраторов (через запятую)
# Получить свой ID: @userinfobot
ADMIN_IDS=123456789

# URL для Mini App (для разработки: http://localhost:8080)
# Для продакшена: https://your-domain.com
WEBAPP_URL=http://localhost:8080

# ========================================
# БАЗА ДАННЫХ
# ========================================

# Путь к файлу SQLite
DATABASE_PATH=bot_data.db

# ========================================
# WB API
# ========================================

# Базовые URL (менять не рекомендуется)
WB_API_BASE_URL=https://common-api.wildberries.ru
WB_MARKETPLACE_URL=https://marketplace-api.wildberries.ru
WB_SUPPLIES_URL=https://supplies-api.wildberries.ru

# Системный токен для фонового мониторинга (опционально)
# Если не указан, мониторинг будет использовать токены пользователей
WB_SYSTEM_TOKEN=

# ========================================
# МОНИТОРИНГ КОЭФФИЦИЕНТОВ
# ========================================

# Интервал опроса коэффициентов (секунды, минимум 10)
# Рекомендуется: 12 секунд = 5 req/min (83% от лимита 6 req/min)
COEFFICIENT_POLL_INTERVAL=12

# Rate limit WB API (6 запросов/мин по умолчанию)
COEFFICIENT_RATE_LIMIT=6

# Cooldown для уведомлений (минуты) - не чаще 1 раза в N минут на склад
# Защита от спама при частых изменениях коэффициентов
NOTIFICATION_COOLDOWN_MINUTES=10

# Глобальное включение/выключение мониторинга (true/false)
# false = мониторинг полностью отключен, бот работает без уведомлений
ENABLE_MONITORING=true

# ========================================
# БЕЗОПАСНОСТЬ
# ========================================

# Ключ шифрования для WB API токенов (Fernet)
# Генерация: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# ВАЖНО: Сохраните этот ключ в безопасном месте! Без него токены нельзя расшифровать.
WB_ENCRYPTION_KEY=

# ========================================
# REDIS (ОПЦИОНАЛЬНО)
# ========================================

# URL Redis для кэширования коэффициентов
# Оставьте пустым для работы без Redis (кэш в памяти)
REDIS_URL=

# ========================================
# АВТОБРОНИРОВАНИЕ
# ========================================

# Максимальный коэффициент для автобронирования (0-2)
# 0 = только бесплатные слоты
# 1.0 = слоты с коэффициентом до 1.0
AUTO_BOOK_MAX_COEFFICIENT=1.0

# Дневной лимит автобронирований на пользователя
AUTO_BOOK_DAILY_LIMIT=5

# ========================================
# RATE LIMITING ПОЛЬЗОВАТЕЛЕЙ
# ========================================

# Количество запросов на пользователя
RATE_LIMIT_REQUESTS=10

# Период в часах
RATE_LIMIT_HOURS=1
